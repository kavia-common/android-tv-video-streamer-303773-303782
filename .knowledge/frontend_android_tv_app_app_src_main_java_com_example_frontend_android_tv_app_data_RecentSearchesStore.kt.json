{"is_source_file": true, "format": "Kotlin", "description": "This file defines a Kotlin class `RecentSearchesStore` that manages storing, retrieving, and clearing recent search queries within an Android application. It uses `SharedPreferences` to persist a list of recent searches in JSON format, implementing functionality to add, list, and clear searches, with a maximum cap of 5 items.", "external_files": ["android.content.Context", "android.content.SharedPreferences", "org.json.JSONArray", "org.json.JSONObject"], "external_methods": ["context.getSharedPreferences", "SharedPreferences.edit", "SharedPreferences.getString", "SharedPreferences.putString", "SharedPreferences.apply"], "published": ["RecentSearchesStore"], "classes": [{"name": "RecentSearchesStore", "description": "A singleton class that manages recent search queries stored in SharedPreferences, providing methods to list, add, and clear recent searches."}], "methods": [{"name": "readList", "description": "Reads the list of recent searches from SharedPreferences, parsing the JSON stored under a specific key."}, {"name": "writeList", "description": "Serializes a list of search queries into JSON and saves it into SharedPreferences."}, {"name": "list", "description": "Returns the current list of recent searches."}, {"name": "push", "description": "Adds a new search query to the recent searches list, ensuring no duplicates (case-insensitive) and capping the total at MAX_ITEMS."}, {"name": "clear", "description": "Clears all stored recent searches."}, {"name": "from", "description": "Factory method to instantiate a `RecentSearchesStore` with the application's shared preferences."}], "calls": ["context.getSharedPreferences", "prefs.edit", "prefs.getString", "prefs.edit().putString", "prefs.edit().apply"], "search-terms": ["RecentSearchesStore", "SharedPreferences", "persistent recent searches", "JSON storage", "max 5 items", "search query history", "de-duplication"], "state": 2, "file_id": 39, "knowledge_revision": 111, "git_revision": "", "hash": "7ef5a0b29faace5b71da128b6b5f1190", "format-version": 4, "code-base-name": "frontend_android_tv_app", "filename": "frontend_android_tv_app/app/src/main/java/com/example/frontend_android_tv_app/data/RecentSearchesStore.kt", "revision_history": [{"111": ""}]}