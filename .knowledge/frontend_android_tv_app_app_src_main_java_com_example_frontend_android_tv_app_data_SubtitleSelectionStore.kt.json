{"is_source_file": true, "format": "Kotlin", "description": "Defines the SubtitleSelectionStore class responsible for persisting per-video subtitle selections in SharedPreferences using JSON format. Provides methods to get and set subtitle track IDs associated with video IDs.", "external_files": ["android.content.Context", "android.content.SharedPreferences", "org.json.JSONObject"], "external_methods": ["Context.getSharedPreferences", "SharedPreferences.edit", "SharedPreferences.Editor.putString", "SharedPreferences.Editor.apply", "JSONObject.constructor", "JSONObject.optJSONObject", "JSONObject.optString", "JSONObject.put", "JSONObject.remove"], "published": ["SubtitleSelectionStore", "SubtitleSelectionStore.from", "SubtitleSelectionStore.getSelectedTrackId", "SubtitleSelectionStore.setSelectedTrackId", "SubtitleSelectionStore.TRACK_ID_OFF"], "classes": [{"name": "SubtitleSelectionStore", "description": "A class that manages persistent storage of subtitle selection per video, utilizing SharedPreferences and JSON format. Ensures thread-safe updates and retrieval."}], "methods": [{"name": "readAll", "description": "Reads and returns the entire JSON object representing all video subtitle selections from SharedPreferences."}, {"name": "writeAll", "description": "Writes the provided JSON object back to SharedPreferences, updating stored subtitle selections."}, {"name": "getSelectedTrackId", "description": "Retrieves the subtitle track ID for a specific video, returning null if none is set or if the video ID is blank."}, {"name": "setSelectedTrackId", "description": "Stores or clears the subtitle track selection for a given video. If trackId is null, removes the entry; if '__off__', sets explicitly Off."}, {"name": "from", "description": "Constructs an instance of SubtitleSelectionStore using the application's context, backed by SharedPreferences."}], "calls": ["context.getSharedPreferences", "prefs.edit", "edit.putString", "edit.apply", "JSONObject()", "JSONObject.optJSONObject", "JSONObject.optString", "JSONObject.put", "JSONObject.remove"], "search-terms": ["SubtitleSelectionStore", "SharedPreferences", "JSON subtitle selection format", "per-video subtitle preferences", "trackId"], "state": 2, "file_id": 47, "knowledge_revision": 144, "git_revision": "", "revision_history": [{"131": ""}, {"144": ""}], "hash": "e3569b8e8210cd07b4bbbf8cd37ca188", "format-version": 4, "code-base-name": "frontend_android_tv_app", "filename": "frontend_android_tv_app/app/src/main/java/com/example/frontend_android_tv_app/data/SubtitleSelectionStore.kt"}