{"is_source_file": true, "format": "Kotlin", "description": "A Kotlin class 'AutoplayCoordinator' that manages 'autoplay next' behavior for a video player UI component. It handles countdown timing, candidate selection, and user interactions such as moving to previous/next videos and canceling playback.", "external_files": ["android.os.Handler", "android.os.Looper", "android.os.SystemClock", "com.example.frontend_android_tv_app.data.Video"], "external_methods": ["android.os.SystemClock.uptimeMillis"], "published": ["AutoplayCoordinator", "AutoplayCoordinator.State", "AutoplayCoordinator.Mode", "AutoplayCoordinator.Listener", "AutoplayCoordinator.RowContext", "AutoplayCoordinator.NextUp"], "classes": [{"name": "AutoplayCoordinator", "description": "Coordinates autoplay next video logic, including countdown timer, candidate management, and user interactions."}, {"name": "AutoplayCoordinator.State", "description": "Represents the current overlay state including visibility, countdown, mode, and next video."}, {"name": "AutoplayCoordinator.Mode", "description": "Enumeration for the current autoplay mode: NEXT_UP or REPLAY."}, {"name": "AutoplayCoordinator.Listener", "description": "Interface for callback methods upon state changes, play requests, and cancellation."}, {"name": "AutoplayCoordinator.RowContext", "description": "Captures contextual information about a row of videos, including current index and fallback list."}, {"name": "AutoplayCoordinator.NextUp", "description": "Represents a candidate video to autoplay, with positional info."}], "methods": [{"name": "setListener", "description": "Registers a listener to receive state updates and callbacks."}, {"name": "startOnEnded", "description": "Initiates the autoplay countdown after a video ends, computing the next candidate."}, {"name": "cancel", "description": "Stops the autoplay countdown and hides overlay."}, {"name": "playNow", "description": "Requests immediate playback of the current next-up candidate."}, {"name": "replay", "description": "Handles replay logic during REPLAY mode, cancelling UI."}, {"name": "moveCandidateLeft", "description": "Moves the candidate selection to the previous video within the row."}, {"name": "moveCandidateRight", "description": "Moves the candidate selection to the next video within the row."}, {"name": "isActive", "description": "Returns whether the autoplay overlay/countdown is active."}], "calls": ["handler.post(tickRunnable)", "handler.postDelayed(tickRunnable, 250L)", "handler.removeCallbacks(tickRunnable)"], "search-terms": ["AutoplayCoordinator", "autoplay next", "countdown timer", "nextUp candidate", "video row context", "replay mode"], "state": 2, "file_id": 35, "knowledge_revision": 101, "git_revision": "a2c6db98100f0ce236183e23a803dce7972e5e5f", "hash": "23fe7d239107a9cd34370f4e50dcbd68", "format-version": 4, "code-base-name": "frontend_android_tv_app", "filename": "frontend_android_tv_app/app/src/main/java/com/example/frontend_android_tv_app/ui/player/AutoplayCoordinator.kt", "revision_history": [{"101": "a2c6db98100f0ce236183e23a803dce7972e5e5f"}]}