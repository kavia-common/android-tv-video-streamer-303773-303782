{"is_source_file": true, "format": "Kotlin (Android Fragment)", "description": "This Kotlin source file defines the HomeFragment class, implementing the main UI screen for an Android TV app. It manages displaying horizontal rows of video categories, including optional 'Continue Watching' and 'Favorites' sections, handling user navigation via DPAD, and coordinating with data stores and repositories to present video content and progress information. It also handles user interactions like focusing, selection, and navigation between the search bar and content.", "external_files": ["R (res/layout/fragment_home)", "com.example.frontend_android_tv_app.data.FavoritesStore", "com.example.frontend_android_tv_app.data.ProgressStore", "com.example.frontend_android_tv_app.data.Video", "com.example.frontend_android_tv_app.data.VideosRepository", "com.example.frontend_android_tv_app.ui.focus.GridFocusManager", "androidx.fragment.app.Fragment", "androidx.recyclerview.widget.RecyclerView", "androidx.recyclerview.widget.LinearLayoutManager", "com.example.frontend_android_tv_app.R"], "external_methods": ["ProgressStore.from", "FavoritesStore.from", "favoritesStore.favoritesFlow", "VideosRepository.categories", "VideosRepository.videosForCategory", "ProgressStore.listInProgress", "ProgressStore.getProgress"], "published": ["HomeFragment", "HomeFragment.Host"], "classes": [{"name": "HomeFragment", "description": "Main fragment class responsible for rendering the home screen with multiple video category rows, managing focus, user interaction, and integrating with data sources."}], "methods": [{"name": "onCreateView", "description": "Inflates the fragment layout view."}, {"name": "onViewCreated", "description": "Initializes UI components, sets up event handlers, and launches coroutine to observe favorites."}, {"name": "onResume", "description": "Refreshes UI when returning to this fragment, updating video rows."}, {"name": "refreshRows", "description": "Builds category list, initializes focus management, and sets up the adapter."}, {"name": "resolveFavorites", "description": "Maps favorite IDs to Video objects, maintaining order."}, {"name": "getVideosForRow", "description": "Returns list of videos for the given row index."}, {"name": "getSelectedVideo", "description": "Retrieves the currently selected video based on row and column indices."}, {"name": "isContinueWatchingRow", "description": "Checks if the given row index corresponds to the Continue Watching row."}, {"name": "getRowKey", "description": "Returns a string key representing the row, used for context."}], "calls": ["adapter.requestFocusFor", "focusManager.moveLeft", "focusManager.moveRight", "focusManager.moveUp", "focusManager.moveDown", "focusManager.setFocus", "favoritesStore.favoritesFlow", "viewLifecycleOwner.lifecycleScope.launch", "collectLatest", "refreshRows", "getVideosForRow", "getSelectedVideo"], "search-terms": ["Android TV", "HomeFragment", "video categories", "DPAD navigation", "favorites", "continue watching", "focus management", "RecyclerView", "Coroutines", "VideosRepository"], "state": 2, "file_id": 24, "knowledge_revision": 152, "git_revision": "aa58702dc5379952f4b1da5310ab2da8412306d0", "revision_history": [{"59": ""}, {"78": "8f3bd2a44be0c20c2cdd27771c55251538083b85"}, {"88": "77643ee77f011bf6dc1d823aa25873c9c1920ab7"}, {"100": "a2c6db98100f0ce236183e23a803dce7972e5e5f"}, {"116": "aa58702dc5379952f4b1da5310ab2da8412306d0"}, {"152": "aa58702dc5379952f4b1da5310ab2da8412306d0"}], "hash": "1622f8689b43476942ce741c675e004c", "format-version": 4, "code-base-name": "frontend_android_tv_app", "filename": "frontend_android_tv_app/app/src/main/java/com/example/frontend_android_tv_app/ui/screens/HomeFragment.kt"}